"use strict";var angularApp=angular.module("angularApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]);angularApp.config(["$interpolateProvider",function(a){a.startSymbol("[["),a.endSymbol("]]")}]),angularApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/book",{templateUrl:"views/book.html",controller:"BookCtrl",controllerAs:"book"}).when("/code",{templateUrl:"views/code.html",controller:"CodeCtrl",controllerAs:"code"}).when("/cicd",{templateUrl:"views/cicd.html",controller:"CicdCtrl",controllerAs:"cicd"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angularApp.factory("config",function(){var a={envirement:"dev",dev:{hrefs:{book:"http://localhost:4000",code:"http://localhost:10080",test:"http://localhost:10081"}},pro:{hrefs:{book:"http://docs.dockerdocs.cn",code:"http://gitlab.dockerdocs.cn",test:"http://gitlabci.dockerdocs.cn"}}};return a}),angularApp.config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","http://*.dockerdocs.cn/**","http://*.docker.io/**","http://*.docker.com/**","http://localhost:4000/**","http://localhost:10080/**","http://localhost:10081/**"])}]),angularApp.controller("navHeader",["$scope","config","$location",function(a,b,c){var d=c.url(),e=b.envirement;a.book=b[e].hrefs.book,a.activeNav=d,a.$apply()}]),angularApp.factory("carouselService",function(){var a={classes:["jumb_1","jumb_2","jumb_3","jumb_4","jumb_5","jumb_6","jumb_7"],current_index:0};return a}),angularApp.controller("MainCtrl",["$scope","$window","$document","$rootScope","carouselService",function(a,b,c,d,e,f){a.classes=e.classes,a.index=e.current_index,a.$watch("index",function(c,d){var e=a.classes[a.index],f=$("."+e),g=0==a.index?0:f.position().top;f.find("h1").css({position:"relative",left:-450,top:0}).animate({left:0},"slow"),f.find(".descript").css({position:"relative",left:450,top:0}).animate({left:0},"slow"),f.find(".link").css({position:"relative",left:-450,top:0}).animate({left:0},"slow"),$(b.document.body).animate({scrollTop:g},"slow")});var g=function(){a.index<=0?a.index=0:a.index-=1},h=function(){var b=a.classes.length;a.index>=b-1?a.index=b-1:a.index+=1};b.onkeydown=function(b){b=b||event;var c=(b.target||b.srcElement,b.which?b.which:b.keyCode);switch(c){case 33:case 104:case 87:case 119:case 38:g();break;case 34:case 98:case 83:case 115:case 40:h();break;case 36:a.index=0;break;case 35:a.index=a.classes.length-1}return b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,a.$apply(),!1},b.onmousewheel=function(b){var b=b||event,c=b.wheelDelta||40*-b.detail;c>0?g():h(),a.$apply()}}]),angularApp.controller("BookCtrl",["$scope","config","$window","$timeout",function(a,b,c,d){var e=b.envirement;a.gitbook=b[e].hrefs.book;var f=function(){var b=$(c).width(),d=$(c).height();a.gitbook_width=b,a.gitbook_height=d-140,a.$apply()};d(function(){f()},10),c.onresize=f}]),angularApp.controller("AboutCtrl",["$scope",function(a){}]),angular.module("angularApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/book.html",'<iframe src="[[gitbook]]" frameborder="0" width="[[gitbook_width]]" height="[[gitbook_height]]" style="margin:-20px -15px -5px -15px;padding:0px" scrolling="no"></iframe>'),a.put("views/cicd.html",'<iframe src="[[gitlabci]]" frameborder="0" width="[[gitlabci_width]]" height="[[gitlabci_height]]" style="margin:-20px -15px -5px -15px;padding:0px" scrolling="no"></iframe>'),a.put("views/code.html",'<iframe src="[[gitlab]]" frameborder="0" width="[[gitlab_width]]" height="[[gitlab_height]]" style="margin:-20px -15px -5px -15px;padding:0px" scrolling="no"></iframe>'),a.put("views/main.html",'<div class="jumbotron firstJumbotron text-center jumb_1"> <h1>社区文档阅读</h1> <p class="descript"> <span class="glyphicon glyphicon-book book-icon"></span><br> 《Docker官方文档中文翻译》 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/book">阅&nbsp;&nbsp;&nbsp;&nbsp;读</a></p> </div> <div class="jumbotron whiteJumbotron text-center jumb_2"> <h1>社区代码托管</h1> <p class="descript"> <span class="glyphicon glyphicon-file book-icon"></span><br> 借助Gitlab开源代码托管工具，对社区项目以及社区会员代码进行托管。 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/">开始托管</a></p> </div> <div class="jumbotron blueJumbotron text-center jumb_3 animate-if"> <h1>社区持续集成</h1> <p class="descript"> <span class="glyphicon glyphicon-refresh book-icon"></span><br> 借助Gitlab CI持续集成工具，以及社区自己开发的自动部署工具，快速构建镜像和启动应用服务。 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/">快速集成</a></p> </div> <div class="jumbotron grayJumbotron text-center jumb_4 animate-if"> <h1>社区镜像管理</h1> <p class="descript"> <span class="glyphicon glyphicon-duplicate book-icon"></span><br> 你可以管理自己构建的镜像，以及查看社区维持的镜像，你可以通过这些镜像快速启动你的应用服务。 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/">镜像查看</a></p> </div> <div class="jumbotron whiteJumbotron text-center jumb_5 animate-if"> <h1>社区应用管理</h1> <p class="descript"> <span class="glyphicon glyphicon-console book-icon"></span><br> 社区上通过镜像部署的应用，你可以放心的托管和管理。 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/">我的应用</a></p> </div> <div class="jumbotron blueJumbotron text-center jumb_6 animate-if"> <h1>社区加速器</h1> <p class="descript"> <span class="glyphicon glyphicon-plane book-icon"></span><br> 如果官方下载速度无法满足你下载的要求时，考虑社区加速器，让你的下载杠杠的。 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/">我要加速</a></p> </div> <div class="jumbotron grayJumbotron text-center jumb_7 animate-if"> <h1>参与社区建设</h1> <p class="descript"> <span class="glyphicon glyphicon-map-marker book-icon"></span><br> 社区目前处于建设阶段，需要广大的社区成员加入。<br> Let\'s go！让我们一起来创建更好的社区体验。 </p> <p class="link"><a class="btn btn-lg btn-success" ng-href="#/">加入我们</a></p> </div>')}]);